<Window x:Class="WpfTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfTest"
        mc:Ignorable="d"
        Title="MainWindow" Height="600" Width="800">
    <Grid>
        <Grid.ColumnDefinitions >
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="1*"/>
            <RowDefinition Height="0.5*"/>
        </Grid.RowDefinitions>
        <DataGrid x:Name="datashow" ItemsSource="{Binding}" Grid.ColumnSpan="3" Grid.RowSpan="2" AutoGenerateColumns="False">
            <DataGrid.Columns >
                <DataGridCheckBoxColumn Binding="{Binding isEnable}" 
                                        Header="启用？" Width="0.2*" IsReadOnly="False"/>
                <DataGridTextColumn Header="名字" Width="0.3*" Binding="{Binding name}" />                
                <DataGridTextColumn Header="变量(,)" Width="0.3*" Binding="{Binding vars}"/>
                <DataGridTextColumn Header="变量值(,)" Width="0.3*" Binding="{Binding varvalues}"/>
                <DataGridTextColumn Header="公式" Width="*" Binding="{Binding gongshi}"/>
                <DataGridTextColumn Header="结果" Width="0.5*" Binding="{Binding jieguo}"/>
            </DataGrid.Columns>

        </DataGrid>
        <Label Content="结果窗口:" Grid.Row="4" VerticalAlignment="Center" HorizontalAlignment="Center"/>
        
        <TextBox x:Name="Textblockjieguo" Grid.ColumnSpan="4" Grid.Row="4" Grid.Column="1">
            
        </TextBox>
        
        <WpfPlot Name="WpfPlot1" Grid.Row="2" Grid.RowSpan="2" Grid.ColumnSpan="3" />
        <StackPanel Orientation="Vertical" Grid.Column="3"  Grid.RowSpan="4">
            <Expander Header="求值" IsExpanded="True" BorderBrush="BlueViolet" BorderThickness="1" >
                <StackPanel>
                    <Button Content="二叉树求值" Click="Button_Click_value" Margin="5"/>
                    <Button Content="lisp法求值" BorderBrush="OrangeRed" BorderThickness="1" Click="Button_Click_valueBylisp" IsEnabled="True" Margin="5"/>


                </StackPanel>
                
            </Expander>
            <Expander Header="求导" IsExpanded="True" BorderBrush="BlueViolet" BorderThickness="1">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="求导变量:"/>
                        <TextBox Name="Textboxdiffvar" Text="x" Width="97"/>
                    </StackPanel>
                    <Button Content="二叉树求导" Click="Button_Click_diff" Margin="5"/>
                    <Button Content="lisp法求导" BorderBrush="OrangeRed" BorderThickness="1" Click="Button_Click_diffBylisp" IsEnabled="True" Margin="5"/>


                </StackPanel>
                
            </Expander>
            <StackPanel Orientation="Horizontal">
                <Label Content="精度要求:"/>
                <TextBox Name="Textboxprecision" Text="0.00001" Width="97"/>
            </StackPanel>
            <Expander Header="迭代法解方程组" IsExpanded="True" BorderBrush="BlueViolet" BorderThickness="1">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="迭代次数:"/>
                        <TextBox Name="TextboxiteraTimes" Text="1000" Width="97"/>
                    </StackPanel>
                    
                    <Button Content="求解（牛顿）" Click="Button_Click_newton" Margin="5"/>
                    <Button Content="求解（阻尼牛顿）" Click="Button_Click_newtonarmijo" Margin="5"/>
                </StackPanel>
              </Expander>
            <Expander Header="遗传算法解方程组" IsExpanded="True" BorderBrush="BlueViolet" BorderThickness="1">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="遗传代数:" Width="90"/>
                        <TextBox Name="TextboxGeneralTimes" Text="1000" Width="97"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="种 群 个 体 数:" Width="90"/>
                        <TextBox Name="TextboxPopulation" Text="100" Width="97"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="点前(后) 位数:" Width="90"/>
                        <TextBox Name="TextboxDotnum" Text="7,7" Width="97"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="变异因子:" Width="90"/>
                        <TextBox Name="TextboxMutateProbability" Text="0.2" Width="97"/>
                    </StackPanel>
                    <Button Content="求解（遗传算法）" Click="Button_Click_Genetic"/>
                </StackPanel>
            </Expander>
            <DockPanel >
                <Label Content="总计用时(ms):"/>
                <TextBox Name="Textboxtime" Text="0.0" Width="97"/>
            </DockPanel>
            <Button Content="其他" Click="Button_Click"/>
            <!--<Button Content="plot" Click="Button_Click_10"/>-->
            
        </StackPanel>
    </Grid>
</Window>
