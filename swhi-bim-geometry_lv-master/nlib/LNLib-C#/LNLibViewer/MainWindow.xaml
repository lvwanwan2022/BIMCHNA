<Window x:Class="LNLibViewer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:LNLibViewer"
        xmlns:helix="http://helix-toolkit.org/wpf"
        mc:Ignorable="d"
        Title="LNLib 3D几何库查看器" Height="800" Width="1200">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- 顶部工具栏 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#F0F0F0" Margin="5">
            <ComboBox x:Name="cmbGeometryType" Width="150" Margin="5" 
                      SelectionChanged="cmbGeometryType_SelectionChanged">
                <ComboBoxItem Content="贝塞尔曲线" IsSelected="True"/>
                <ComboBoxItem Content="B样条曲线"/>
                <ComboBoxItem Content="NURBS曲线"/>
                <ComboBoxItem Content="圆形"/>
                <ComboBoxItem Content="椭圆"/>
                <ComboBoxItem Content="NURBS曲面"/>
                <ComboBoxItem Content="球体"/>
                <ComboBoxItem Content="圆柱体"/>
            </ComboBox>
            
            <Button x:Name="btnGenerate" Content="生成" Width="80" Margin="5" Click="btnGenerate_Click"/>
            <Button x:Name="btnClear" Content="清除" Width="80" Margin="5" Click="btnClear_Click"/>
            <CheckBox x:Name="chkShowControlPoints" Content="显示控制点" IsChecked="True" 
                      VerticalAlignment="Center" Margin="10,0" Checked="chkShowControlPoints_CheckedChanged"
                      Unchecked="chkShowControlPoints_CheckedChanged"/>
            <CheckBox x:Name="chkShowWireframe" Content="显示网格" IsChecked="True" 
                      VerticalAlignment="Center" Margin="10,0" Checked="chkShowWireframe_CheckedChanged"
                      Unchecked="chkShowWireframe_CheckedChanged"/>
        </StackPanel>

        <!-- 主要内容区域：Helix 3D视图 -->
        <TabControl Grid.Row="1" Margin="5">
            <TabItem Header="3D视图">
                <helix:HelixViewport3D x:Name="viewPort3D" 
                                      Background="White"
                                      ShowCoordinateSystem="True"
                                      ShowViewCube="True"
                                      ShowFrameRate="True"
                                      CameraRotationMode="Trackball">
                    <!-- 默认灯光 -->
                    <helix:SunLight/>
                    
                    <!-- 坐标网格 -->
                    <helix:GridLinesVisual3D Width="3" Length="3" MinorDistance="0.1" MajorDistance="1" Thickness="0.01"/>
                    
                    <!-- 主要几何内容在代码中添加 -->
                </helix:HelixViewport3D>
            </TabItem>
            
            <TabItem Header="属性">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- 左侧参数列表 -->
                    <GroupBox Header="几何参数" Grid.Column="0" Margin="5">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel x:Name="spGeometryParams" Margin="5">
                                <!-- 参数在代码中动态添加 -->
                            </StackPanel>
                        </ScrollViewer>
                    </GroupBox>
                    
                    <!-- 右侧信息面板 -->
                    <GroupBox Header="几何信息" Grid.Column="1" Margin="5">
                        <TextBox x:Name="txtGeometryInfo" 
                                 IsReadOnly="True"
                                 AcceptsReturn="True" 
                                 VerticalScrollBarVisibility="Auto"
                                 TextWrapping="Wrap"
                                 FontFamily="Consolas"/>
                    </GroupBox>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window> 