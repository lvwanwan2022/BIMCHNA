<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Definitions -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333" />
    </marker>
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <rect width="900" height="600" fill="#f8fafc" />

  <!-- é˜¶æ®µ 1: ç£ç›˜æ–‡ä»¶ -->
  <g transform="translate(50, 250)">
    <path d="M0,0 L60,0 L70,10 L70,80 L0,80 Z" fill="#fff" stroke="#333" stroke-width="2" />
    <text x="35" y="45" text-anchor="middle" font-size="12">File</text>
    <text x="35" y="60" text-anchor="middle" font-size="10" fill="#666">(.stp/.ifc)</text>
  </g>

  <!-- ç®­å¤´ -->
  <line x1="130" y1="290" x2="170" y2="290" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

  <!-- é˜¶æ®µ 2: å†…å­˜æ•°æ® (Kernel) -->
  <g transform="translate(180, 200)">
    <rect width="140" height="180" rx="5" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#shadow)"/>
    <text x="70" y="25" text-anchor="middle" font-weight="bold" fill="#047857">Kernel Memory</text>
    
    <!-- æ•°å­¦æ¨¡å‹ -->
    <rect x="15" y="40" width="110" height="50" rx="3" fill="#fff" stroke="#059669"/>
    <text x="70" y="60" text-anchor="middle" font-size="11">B-Rep Model</text>
    <text x="70" y="75" text-anchor="middle" font-size="9" fill="#666">Infinite Precision</text>
    
    <!-- ç¦»æ•£åŒ–è¿‡ç¨‹ -->
    <path d="M 70 95 L 70 115" stroke="#059669" stroke-width="2" stroke-dasharray="3,3" marker-end="url(#arrow)"/>
    
    <!-- ç½‘æ ¼æ•°æ® -->
    <rect x="15" y="120" width="110" height="40" rx="3" fill="#fff" stroke="#059669"/>
    <text x="70" y="135" text-anchor="middle" font-size="11">Mesh Data</text>
    <text x="70" y="150" text-anchor="middle" font-size="9" fill="#666">Vertices + Indices</text>
  </g>

  <!-- ç®­å¤´: CPU -> GPU -->
  <line x1="330" y1="290" x2="390" y2="290" stroke="#f97316" stroke-width="3" marker-end="url(#arrow)" />
  <text x="360" y="280" text-anchor="middle" font-size="10" fill="#f97316">Upload (PCIe)</text>

  <!-- é˜¶æ®µ 3: æ¸²æŸ“æ•°æ® (GPU VRAM) -->
  <g transform="translate(400, 200)">
    <rect width="140" height="180" rx="5" fill="#fff7ed" stroke="#f97316" stroke-width="2" filter="url(#shadow)"/>
    <text x="70" y="25" text-anchor="middle" font-weight="bold" fill="#c2410c">Display (VRAM)</text>
    
    <rect x="15" y="50" width="110" height="30" fill="#333" rx="2"/>
    <text x="70" y="70" text-anchor="middle" fill="#fff" font-size="10">Vertex Buffer</text>
    
    <rect x="15" y="90" width="110" height="30" fill="#333" rx="2"/>
    <text x="70" y="110" text-anchor="middle" fill="#fff" font-size="10">Index Buffer</text>

    <rect x="15" y="130" width="110" height="30" fill="#333" rx="2"/>
    <text x="70" y="150" text-anchor="middle" fill="#fff" font-size="10">Uniforms</text>
  </g>

  <!-- ç®­å¤´: Draw Call -->
  <line x1="550" y1="290" x2="600" y2="290" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />

  <!-- é˜¶æ®µ 4: æ¸²æŸ“ç®¡çº¿ (Pipeline) -->
  <g transform="translate(610, 150)">
    <polygon points="0,0 180,0 180,280 0,280 20,140" fill="#eff6ff" stroke="#3b82f6" stroke-width="2" />
    <text x="100" y="25" text-anchor="middle" font-weight="bold" fill="#1e40af">Render Pipeline</text>
    
    <!-- Vertex Shader -->
    <rect x="40" y="50" width="120" height="30" fill="#dbeafe" stroke="#3b82f6"/>
    <text x="100" y="70" text-anchor="middle" font-size="11">1. Vertex Shader</text>
    <text x="165" y="70" font-size="16">ğŸ”„</text>

    <!-- Rasterizer -->
    <rect x="40" y="100" width="120" height="30" fill="#dbeafe" stroke="#3b82f6"/>
    <text x="100" y="120" text-anchor="middle" font-size="11">2. Rasterization</text>
    <text x="165" y="120" font-size="16">ğŸ“</text>

    <!-- Fragment Shader -->
    <rect x="40" y="150" width="120" height="30" fill="#dbeafe" stroke="#3b82f6"/>
    <text x="100" y="170" text-anchor="middle" font-size="11">3. Fragment Shader</text>
    <text x="165" y="170" font-size="16">ğŸ¨</text>

    <!-- Output -->
    <rect x="40" y="220" width="120" height="40" fill="#3b82f6" rx="2"/>
    <text x="100" y="245" text-anchor="middle" fill="#fff" font-weight="bold">Screen Pixels</text>
  </g>
</svg>

